/**
 * LearnWise assessment module
 *
 * @module     local_learnwise/aiassessment
 * @copyright  2025 LearnWise <help@learnwise.ai>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_learnwise/aiassessment",["jquery","core/ajax","core/notification"],(function($,Ajax,Notification){return{setup:!1,init:function(){var self=this,$document=$(document);$document.on("finish-loading-user",(function(){var $userInfo=$document.find('[data-region="user-info"]'),instanceId=$userInfo.attr("data-assignmentid"),userid=$userInfo.attr("data-userid");userid||(userid=$userInfo.closest('[data-region="grading-navigation-panel"]').data("first-userid"));self.setup?self.redirectUserGrading(userid):Ajax.call([{methodname:"local_learnwise_assign_get_submission",args:{assignid:instanceId,userid:userid}}])[0].then((function(response){return self.setup=!0,document.dispatchEvent(new CustomEvent("initLearnWiseAssessment",{detail:response})),null})).catch(Notification.exception)})).on("user-changed",(function(e,userid){self.setup&&(e.stopPropagation(),self.redirectUserGrading(userid))}))},redirectUserGrading:function(userid){var url=new URL(location.href);url.searchParams.delete("userid"),url.searchParams.append("userid",userid),location.href=url.toString()}}}));

//# sourceMappingURL=aiassessment.min.js.map